# 编程范式与OOP思想

## 框架与库和工具包的区别

大的差别在截然相反的设计理念上：库和工具包是为程序员带来**自由**的，框架是为程序员带来**约束**的；

### 框架

在宏观管理上选取一些框架以**控制整体的结构和流程**；**侧重设计重用**

### 库和工具包

在微观实现上利用库和工具包来**解决具体的细节问题**；**侧重代码重用**

## 设计模式和架构

### 设计模式

**软件的战术思想**；针对**某些经常出现的问题**而提出的行之有效的**设计解决方案**，它侧**重思想重用**

### 架构

**软件的战略决策**；最高层次的**整体结构和规划，一个架构可能包含多个框架**，而一个框架可能包含多个设计模式

## 命令范式

**行动导向的，因而算法是显性而目标是隐性**

**程序是由若干行动指令组成的有序列表**；**用变量来存储数据，用语句来执行指令**

### 结构化编程（structured programming或简称SP）

**它是在过程式编程的基础上发展起来**；

提倡代码应具有清晰的逻辑结构，以保证程序易于**读写、测试、维护和优化**；根据结构化定理（structured program theorem）任何程序都可用**顺序（concatenation）、选择（selection）和循环（repetition）等3种基本控制结构来表示**

微观上，主张**循规守矩，采用顺序、选择和循环3种逻辑结构**，以避免杂乱无章的代码

宏观上，主张**分而治之（divide and conquer）**，采用‘自顶向下、逐步求精’的设计，通过模块化将一个较为复杂的系统分解为若干相对简单的子系统，每个子系统可以独立地进一步分解，直到容易编码实现为止

## 声明范式

是**目标驱动的，因而目标是显性而算法是隐性**；目标、轻过程，**专注问题的分析和表达而不致陷入算法的迷宫**，其代码也更加简洁清晰、易于修改和维护

## 对象范式

对象**作为问题空间**的基本元素，利用对象和对象间的相互作用来设计程序；

过程式编程的模块以**函数为单位**，OOP的模块以**对象为单位**，二者的区别是：函数是被动的实体，对象是主动的实体

以**数据为中心组织逻辑**，将**系统视为相互作用的对象集合**，并利用继承与多态来增强可维护性、可扩展性和可重用性

## 并发范式

作用在于**提高了软件的响应能力，也改善了用户体验**

以进程为导向；以任务为中心将系统模块化；**以资源共享与竞争为主线**

合理的并发式设计需要诸多方面

1. 软件易于**重用、维护、测试**
2. 公平有效地**利用资源，优化程序性能如增大吞吐量、减少响应时间、提高效率等；**
3. 保障进程安全，防止竞态条件（Race Condition）；
4. 保持进程活性，避免死锁、饥饿、活锁、资源枯竭等；
5. 减少锁开销、上下文切换等带来的性能损失；
6. 妥善处理多进程在算法、调试等方面带来的复杂性

## 泛型范式

以**算法为起点和中心点**，逐渐将**其所涉及的概念内涵模糊化、外延扩大化，将其所涉及的运算抽象化、一般化，从而扩展算法的适用范围**

## 超级范式

将程序作为数据来对待，**能自我发现、自我赋权和自我升级**，有着其他程序所不具备的自觉性、自适应性和智能性，可以说是一种最高级的程序

元编程能减少手工编程，突破原语言的语法限制，提升语言的抽象级别与灵活性，从而提高程序员的生产效率

DE下自动生成的代码通常局限性大且可读性差，小操作可能造成的源码上的大差异，削弱了版本控制的意义。用自编的无需人机交互的元程序来生成代码，只须将元程序的数据来源版本化，简明而直观。同时由于元程序可以随时修改，因此局限性小，更加灵活。

## 切面范式

**动态地将代码切入到类的指定方法、指定位置上的编程思想就是面向切面的编程**

抽象是前提，分解是方式，模块化是结果；

> 从问题中抽象出一些关注点，再以此为**基础进行分解**。分解后的**子问题主题鲜明且独立完备**，既不会牵一发而动全身，也不会四分五裂、支离破碎。同时具有相同特征的部分可以像代数中的公因子一样提取出来，提高了重用性，减少了重复性

两条（抽象与分解的原则）：**单一化，正交化**。每个模块职责明确专一，模块之间相互独立，即高内聚低耦合

般而言，我们管切入到**指定类指定方法的代码片段称为切面**，而**切入到哪些类、哪些方法则叫切入点**。有了AOP，我们就可以把几个类共有的代码，抽取到一个切片中，等到需要时再切入对象中去，从而改变其原有的行为。
这样看来，AOP其实只是OOP的补充而已。OOP从横向上区分出一个个的类来，而AOP则从纵向上向对象中加入特定的代码。有了AOP，OOP变得立体了。如果加上时间维度，AOP使OOP由原来的二维变为三维了，由平面变成立体了。从技术上来说，AOP基本上是通**过代理机制实现**的。 
     AOP在编程历史上可以说是里程碑式的，对OOP编程是一种十分有益的补充

## 事件驱动

事件是程序中令人关注的信息状态上的变化；

Callback指能作为参数传递的函数或代码，它允许**低层模块调用高层模块**，使调用者与被调者从代码上解耦。异**步callback在传入后并不立即被调用，使调用者与被调者从时间上解耦**

事件驱动式编程的3个步骤：**实现事件处理器；注册事件处理器；实现事件循环**



